<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Penguado AI – GPT-5 Style</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/marked/marked.min.css">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
:root{--penguado-blue:#0078ff;--penguado-blue-hover:#0060cc;--bg:#f3f6fb;--surface:rgba(255,255,255,0.9);
--border:#e1e4e8;--text:#1a1b1d;--subtext:#5c5c5c;--radius:1rem;--shadow:0 4px 20px rgba(0,0,0,0.08);}
body.dark{--bg:#0e1116;--surface:rgba(35,37,42,0.9);--border:#2e3238;--text:#e9e9ea;--subtext:#b3b3b3;--shadow:0 4px 20px rgba(0,0,0,0.5);}
body{margin:0;font-family:"Inter",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
background:var(--bg);color:var(--text);display:flex;flex-direction:column;height:100vh;transition:background .3s,color .3s;}
header{backdrop-filter:blur(12px);background:var(--surface);border-bottom:1px solid var(--border);box-shadow:var(--shadow);
padding:.9rem 1.4rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:10;}
header h1{margin:0;font-size:1.2rem;font-weight:600;color:var(--penguado-blue);letter-spacing:-0.01em;}
.toggle{cursor:pointer;font-size:.9rem;color:var(--subtext);user-select:none;transition:color .2s;}
.toggle:hover{color:var(--penguado-blue);}
#output{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1rem;scroll-behavior:smooth;}
.chat{display:flex;align-items:flex-start;gap:.8rem;max-width:720px;}
.chat.user{align-self:flex-end;flex-direction:row-reverse;}
.bubble{background:var(--surface);border:1px solid var(--border);padding:.85rem 1rem;border-radius:var(--radius);
box-shadow:var(--shadow);max-width:85%;font-size:.97rem;line-height:1.5;animation:fadeIn .25s ease-out;}
.user .bubble{background:var(--penguado-blue);color:#fff;border:none;}
.avatar{width:34px;height:34px;border-radius:50%;background:var(--border);display:flex;align-items:center;justify-content:center;
font-weight:700;color:var(--subtext);font-size:.8rem;}
.user .avatar{background:var(--penguado-blue);color:#fff;}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px);}to{opacity:1;transform:translateY(0);}}
footer{backdrop-filter:blur(12px);background:var(--surface);border-top:1px solid var(--border);
box-shadow:0 -2px 8px rgba(0,0,0,0.04);padding:1rem 1.5rem;}
form{display:flex;gap:.8rem;align-items:center;max-width:760px;margin:auto;}
textarea{flex:1;resize:none;font-size:1rem;padding:.8rem 1rem;border-radius:var(--radius);
border:1px solid var(--border);background:var(--bg);color:var(--text);transition:border-color .2s,background .2s;}
textarea:focus{border-color:var(--penguado-blue);outline:none;}
button{background:var(--penguado-blue);color:#fff;font-weight:600;border:none;padding:.8rem 1.3rem;
border-radius:var(--radius);cursor:pointer;transition:background .2s;}
button:hover{background:var(--penguado-blue-hover);}
button:disabled{background:#999;cursor:not-allowed;}
.bubble pre{background:rgba(0,0,0,0.05);padding:.6rem;border-radius:.5rem;
overflow-x:auto;font-family:monospace;font-size:.9rem;}
body.dark .bubble pre{background:rgba(255,255,255,0.08);}
.bubble code{background:rgba(0,0,0,0.05);padding:.15rem .3rem;border-radius:0.3rem;}
body.dark .bubble code{background:rgba(255,255,255,0.1);}
</style>
</head>
<body>
<header>
  <h1>Penguado AI</h1>
  <div class="toggle" id="themeToggle">Dark Mode</div>
</header>

<div id="output"></div>

<footer>
  <form id="chatForm">
    <textarea id="prompt" rows="2" placeholder="Ask Penguado something..."></textarea>
    <button type="submit">Send ➤</button>
  </form>
</footer>

<script>
const API_KEY = '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';
const output = document.getElementById('output');

/* Append chat message */
function addMessage(role, content){
  const div=document.createElement('div');
  div.className=`chat ${role}`;
  const avatar=`<div class="avatar">${role==='user'?'U':'AI'}</div>`;
  const bubble=`<div class="bubble">${marked.parse(content)}</div>`;
  div.innerHTML=avatar + bubble;
  output.appendChild(div);
  output.scrollTop=output.scrollHeight;
}

/* Theme toggle */
document.getElementById('themeToggle').onclick=()=>{
  document.body.classList.toggle('dark');
  const dark=document.body.classList.contains('dark');
  document.getElementById('themeToggle').innerText=dark?'Light Mode':'Dark Mode';
};

/* Chat logic (no local storage, no loading overlay) */
document.getElementById('chatForm').onsubmit = async (e)=>{
  e.preventDefault();
  const prompt=document.getElementById('prompt').value.trim();
  if(!prompt) return;
  addMessage('user', prompt);
  document.getElementById('prompt').value='';

  const messages=[
    {role:'system',content:'You are Penguado AI, a helpful, calm, and precise assistant.'},
    {role:'user',content:prompt}
  ];

  try{
    const resp=await fetch('https://openrouter.ai/api/v1/chat/completions',{
      method:'POST',
      headers:{
        'Content-Type':'application/json',
        'Authorization':`Bearer ${API_KEY}`
      },
      body:JSON.stringify({
        model:'openai/gpt-oss-20b:free',
        messages,
        temperature:1.0
      })
    });

    const data=await resp.json();
    if(!resp.ok) throw new Error(JSON.stringify(data,null,2));
    const reply=data?.choices?.[0]?.message?.content||"";
    addMessage('assistant', reply);
  }catch(err){
    addMessage('assistant', `Error: ${err.message}`);
  }
};
</script>
</body>
</html>
